![logo](https://github.com/stevejarvis/usa-weightlifting-results/blob/master/usaw.png)

USA Weightlifting Results
=========================

SQL database and code to search years of USA Weightlifting competitions. See it live at [nerdster.org](http://www.nerdster.org/usaw/).

# Contributing
To contribute, there are two tables that need to be updated:

### 1: Table for the actual results
A new table should be added named "YearCompetition" with the following schema (just follow suit with what
already exists).

```raw
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| class       | char(10)    | NO   |     | NULL    |       |
| name        | char(40)    | NO   |     | NULL    |       |
| yearOfBirth | year(4)     | NO   |     | NULL    |       |
| team        | char(11)    | NO   |     | NULL    |       |
| bodyWeight  | double      | NO   |     | NULL    |       |
| snatch1     | char(10)    | NO   |     | NULL    |       |
| snatch2     | char(10)    | NO   |     | NULL    |       |
| snatch3     | char(10)    | NO   |     | NULL    |       |
| jerk1       | char(10)    | NO   |     | NULL    |       |
| jerk2       | char(10)    | NO   |     | NULL    |       |
| jerk3       | char(10)    | NO   |     | NULL    |       |
| total       | smallint(6) | NO   |     | NULL    |       |
| place       | smallint(6) | NO   |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
```

### 2: Athlete database
A database with records for all individual athletes. This is autogenerated with the
'populateathletedb.php' script, just use that.

```raw
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| key   | varchar(80) | NO   | PRI | NULL    |       |
| name  | char(40)    | NO   |     | NULL    |       |
| year  | year(4)     | NO   |     | NULL    |       |
| comp  | char(40)    | NO   |     | NULL    |       |
| title | char(40)    | NO   |     | NULL    |       |
| class | char(10)    | NO   |     | NULL    |       |
| place | char(10)    | NO   |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
```

To load a .sql dump:
```bash
mysql -u <username> -p <database> < usaw-results.sql
password: <password>
```

To create a .sql dump:
```bash
mysqldump -u <username> -p <database> > usaw-results.sql
password: <password>
```

# Running
To run the code and see that results are returned as expected, set it up on a local MySQL
and web server. The javascript used at [nerdster](https://github.com/stevejarvis/stevejarvis.github.io)
could help get it going, just change URIs as necessary.

# License
The PHP and Javascript is available under the MIT License.
The Databases themselves are available under the GPLv3, as I'd like the data
to stay freely available.
